<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-COMPATIBLE" content="IE=edge">
    <title></title>

    <script>
        var oldlog = function(){};
        function mylog(str) {
            if (document.getElementById('log2'))
                document.getElementById('log2').innerHTML = document.getElementById('log2').innerHTML+"<br>"+str;

            if (typeof oldlog == "function")
                oldlog.apply(console, arguments);
            else
                oldlog(str);
        }
        if (typeof console == "undefined")
            console = {};
        if (console.log)
            oldlog = console.log;
        console.log = mylog;
    </script>
    <script src="../src/erej.js"></script>

</head>
<body>
<div id="main1" action="ok" name="12">1111111</div>
<div id="main2" name="13" action="test_123" class="b1">2222222</div>
<div id="main3" class="a1">3333333</div>

<div id="main4">44444
    <div id="main5" action="ok" class="a1 b1">55555
        <div id="main6">666666
            <div id="main7">777777</div>
        </div>
    </div>
</div>

<div id="log"></div>
<div id="log2" style="background-color: #000; color: #fff;"></div>
<script>
    function log(str) {
        $('#log').html($('#log').html()+"<br>"+str);
    }
    var f1 = function (e, data) {
        log('click1 cur:'+ this.id+" src:"+ e.srcElement.id+" data:"+data);
    };
    var f2 = function (e, data) {
        log('click2 cur:'+ this.id+" src:"+ e.srcElement.id+" data:"+data+" proxy:"+ e.proxyElement.id);
    };

    window.onload = function () {
        log("onload");
        //var t = $('div');
        //t.html('yes123456');

        $('#main4').on('click', f1, null, "data1");
        $('#main4').on('click', f2, '[action="ok"]', "data2");
        //alert(t.html());

        //alert("123".startWith('1'));

        console.log('===============');
        console.log("userAgent:"+window.navigator.userAgent);
        console.log("appName:"+window.navigator.appName);
        console.log("appVersion:"+window.navigator.appVersion);
        console.log("appCodeName:"+window.navigator.appCodeName);
        console.log("kernel:"+erej.browser.kernel()+" ver:"+erej.browser.ver());
        console.log('===============');
    }

    erej.ready(function () {
        log("dom ready.");
    });
</script>
<iframe src="http://www.taobao.com" width="400" height="400"></iframe>
</body>
</html>